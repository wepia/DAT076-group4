<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <title>Athlete Assist</title>
  <!--meta tags-->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /> 
  <!--stylesheets-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <link rel="stylesheet" type="text/css" href="main.css" />
</head>
<body>
  <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="#">Athlete Assist</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <nav class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <nav class="navbar-nav">
          <a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>
          <a class="nav-item nav-link" href="registration.html">Registration</a>
          <a class="nav-item nav-link" href="history.html">History</a>
          <a class="nav-item nav-link" href="login.html">Log in</a>
        </nav>
      </nav>
    </div>
  </nav>
  <main class="container text-center">
    <section class="row justify-content-center">
      <h1 class="col">Welcome to Athlete Assist</h1>
    </section>
    <section class="row justify-content-center">
      <p class="col-10">Athlete Assist aims to simplify and optimize the management of volunteers at sports events. This digital platform is designed to streamline the coordination of volunteer activities, ensuring the efficient utilization of human resources to meet the diverse needs of sports events. Join us in enhancing the volunteer experience and making a positive impact on the world of sports!</p>
    </section>
    <section class="row justify-content-center">
      <h2 class="col">Event list</h1>
      <div class="list-group">
        <a href="#" class="list-group-item list-group-item-action active" aria-current="true">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">List group item heading</h5>
            <small>3 days ago</small>
          </div>
          <p class="mb-1">Some placeholder content in a paragraph.</p>
          <small>And some small print.</small>
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">List group item heading</h5>
            <small class="text-muted">3 days ago</small>
          </div>
          <p class="mb-1">Some placeholder content in a paragraph.</p>
          <small class="text-muted">And some muted small print.</small>
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">List group item heading</h5>
            <small class="text-muted">3 days ago</small>
          </div>
          <p class="mb-1">Some placeholder content in a paragraph.</p>
          <small class="text-muted">And some muted small print.</small>
        </a>
      </div>
    </section>

  </main>
  <footer class="footer text-center mt-auto bg-light">
    <section class="row text-muted">
      <p class="col">
        Contact info: <br> 
        athlete@not.adomain <br> 
        +46000000 <br> 
        addressroad 265, Nowhere <br> 
      </p>
      <p class="col">some other footer information</p>
    </section>
  </footer>
  <!--scripts-->

<script>
    //TODO
    // fetch list of events from http://localhost:8080/event/getevents

  function fetchEvents() {
    fetch('http://localhost:8080/event/getevents')
      .then(response => response.json())
      .then(events => {
        console.log('tests', events);
        updateEventList(events);
      })
      .catch(error => console.error('Error:', error));
  }

  function updateEventList(events) {
    const listGroup = document.querySelector('.list-group');
    listGroup.innerHTML = '';

    events.forEach(event => {
      const listItem = document.createElement('a');
      listItem.className = 'list-group-item list-group-item-action';
      listItem.href = '#';
      listItem.innerHTML = `
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">${event.title}</h5>
          <small>${event.date}</small>
        </div>
        <p class="mb-1">${event.description}</p>
      `;
      listGroup.appendChild(listItem);
    });
  }

  //fetchEvents();


  // TODO:
  // fill in the list in the html list component

</script>

  <!--scripts, jquery and bootstrap (for some reason collapsible menu doesn't work with bootstrap 5?)-->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</body>
</html>